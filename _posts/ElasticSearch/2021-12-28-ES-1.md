---
title: ElasticSearch ì†Œê°œ
excerpt: ElasticSearchë€?

categories:
  - ElasticSearch

tags:
  - Log
  - ElasticSearch

toc: true
toc_sticky: true
toc_label: ElasticSearch
---

**ê°„ë‹¨í•œ ì‹œì‘ ê¸€** <br/>
log ë¶„ì„ì„ í•œë²ˆë„ í•´ë³¸ ì  ì—†ì–´ì„œ ELK Stackì„ ì´ì œ ì•Œê²Œ ë˜ì—ˆë‹¤..... ğŸ˜° <br/>
RDBSë¡œë§Œ ë¶„ì„ì„ í•´ì™€ì„œ ë„ˆëª¨ë‚˜ ë‹¹í™©ìŠ¤ëŸ¬ì› ë”°.... ğŸ˜£ <br/>
ê·¸ë˜ë„ ì§€ê¸ˆì´ë¼ë„ ì•Œê²Œ ë˜ì–´ì„œ ë‹¤í–‰ì´êµ¬, ì–¼ë¥¸ ìµí˜€ì„œ ë¡œê·¸ë„ ë¶„ì„í•´ë³´ê³  ì‹¶ë‹¤ ! ğŸ˜‡ âœ¨

# What is ElasticSearch?
- Apache Lucene ê¸°ë°˜ì˜ ê²€ìƒ‰ ì—”ì§„, ìë°”ë¡œ ê°œë°œ ë˜ì–´ì§.
- text, ìˆ«ì, ìœ„ì¹˜ ê¸°ë°˜ ì •ë³´, ì •í˜• ë° ë¹„ì •í˜• ë°ì´í„° ë“± 
- ELK(Elasticsearch / Logstatsh / Kibana) Stack ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸°ë„ í•œë‹¤.

----

# What's different from RDBS?
## 1. Structure

|Elastic Search                      | RDBS                                   |
|:----------------------------------:|:--------------------------------------:|
|Index                               |Database                                |
|Type                                |Table                                   |
|Document                            |Row                                     |
|Field                               |Column                                  |
|Mapping                             |Schema                                  |

## 2. Command

|Elastic Search                      | RDBS                                   |CRUD                                     |
|:----------------------------------:|:--------------------------------------:|:----------------------------------------|
|GET                                 |Select                                  |Read                                     |
|PUT                                 |Update                                  |Update                                   |
|POST                                |Insert                                  |Create                                   |
|DELETE                              |Delete                                  |Delete                                   |

## 3. Example

|Elastic Search                                                                             | RDBS                                                       |
|:-----------------------------------------------------------------------------------------|:----------------------------------------------------------|
|`curl -XGET localhost:9200/classes/class/1`                                                |`SELECT * FROM class WHERE id = 1;`                         |
|`curl -POST localhost:9200/classes/class/1 -H 'Content-Type: application/json' -d '{xxx}'` |`INSERT INTO class values (xxx);`                            |
|`curl -XPUT localhost:9200/classes/class/1 -H 'Content-Type: application/json' -d '{xxx}'` |`UPDATE class SET xxx WHERE id = 1;`                        |
|`curl -XDELETE localhost:9200/classes/class/1`                                             |`DELETE FROM class WHERE id = 1;`                           |


----
# Setting

## 1. Docker Setting
- [ë„ì»¤ ì„¸íŒ…í•˜ê¸°]({{site.url}}{{site.baseurl}}/docker/docker_2)  
- ì„¸íŒ…ì´ ë˜ì–´ìˆëŠ” ìƒíƒœë¼ë©´ ë‹¤ìŒê³¼ ê°™ì´ Ubuntuë¥¼ ì‹¤í–‰í•˜ì.  
```bash
docker exec -it ubuntu_18.04 /bin/bash
```

## 2. Run ElasticSearch

- ElasticSearchëŠ” REST API í˜•ì‹ê³¼ ê°™ì´ ì‚¬ìš©
- Linux curl ëª…ë ¹ì–´ì™€ ê°™ì´ ì‚¬ìš©í•˜ë¯€ë¡œ prefix "-X"ê°€ ë¶™ëŠ”ë‹¤.
```bash
sudo service elasticsearch start
curl -XGET localhost:9200
```

## 3. Stop ElasticSearch

```bash
sudo service elasticsearch stop
```